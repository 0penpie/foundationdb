FROM ubuntu:15.04

RUN sed -i -e 's/archive.ubuntu.com\|security.ubuntu.com/old-releases.ubuntu.com/g' /etc/apt/sources.list && apt-get clean && apt-get update

RUN apt-get --no-install-recommends install -y libffi6:amd64=3.2.1-2 libgmp10:amd64=2:6.0.0+dfsg-6ubuntu1 libnettle4:amd64=2.7.1-5 libhogweed2:amd64=2.7.1-5 libp11-kit0:amd64=0.20.7-1 libtasn1-6:amd64=4.2-2ubuntu1 libgnutls-deb0-28:amd64=3.3.8-3ubuntu3 libsqlite3-0:amd64=3.8.7.4-1 libroken18-heimdal:amd64=1.6~rc2+dfsg-9 libasn1-8-heimdal:amd64=1.6~rc2+dfsg-9 libkrb5support0:amd64=1.12.1+dfsg-18 libk5crypto3:amd64=1.12.1+dfsg-18 libkeyutils1:amd64=1.5.9-5ubuntu1 libkrb5-3:amd64=1.12.1+dfsg-18 libgssapi-krb5-2:amd64=1.12.1+dfsg-18 libidn11:amd64=1.28-1ubuntu2 libhcrypto4-heimdal:amd64=1.6~rc2+dfsg-9 libheimbase1-heimdal:amd64=1.6~rc2+dfsg-9 libwind0-heimdal:amd64=1.6~rc2+dfsg-9 libhx509-5-heimdal:amd64=1.6~rc2+dfsg-9 libkrb5-26-heimdal:amd64=1.6~rc2+dfsg-9 libheimntlm0-heimdal:amd64=1.6~rc2+dfsg-9 libgssapi3-heimdal:amd64=1.6~rc2+dfsg-9 libsasl2-modules-db:amd64=2.1.26.dfsg1-13 libsasl2-2:amd64=2.1.26.dfsg1-13 libldap-2.4-2:amd64=2.4.31-1+nmu2ubuntu12 librtmp1:amd64=2.4+20131018.git79459a2-5 libcurl3-gnutls:amd64=7.38.0-3ubuntu2 apt-transport-https:amd64=1.0.9.7ubuntu4 bzip2=1.0.6-7 ca-certificates=20141019 && apt-get clean

RUN echo "Acquire::CompressionTypes::Order \"bz2\";" > /etc/apt/apt.conf

RUN apt-get clean && apt-get update

RUN apt-get --no-install-recommends install -y --force-yes sudo=1.8.9p5-1ubuntu5 adduser=3.113+nmu3ubuntu3 apt=1.0.9.7ubuntu4 autoconf=2.69-8 automake=1:1.14.1-3ubuntu1 autotools-dev=20140911.1 base-files=7.2ubuntu9 base-passwd=3.5.37 bash=4.3-11ubuntu2 binutils=2.25-5ubuntu7 bison=2:3.0.2.dfsg-2 bsdutils=1:2.25.2-4ubuntu2 build-essential=11.6ubuntu6 ca-certificates-java=20140324 ccache=3.1.10-1 coreutils=8.23-3ubuntu1 cpp=4:4.9.2-2ubuntu2 cpp-4.9=4.9.2-10ubuntu13 dash=0.5.7-4ubuntu1 debconf=1.5.55ubuntu2 debianutils=4.4 debugedit=4.11.3-1.1 diffutils=1:3.3-1 dmsetup=2:1.02.90-2ubuntu1 dos2unix=6.0.4-1 dpkg=1.17.25ubuntu1 dpkg-dev=1.17.25ubuntu1 e2fslibs:amd64=1.42.12-1ubuntu2 e2fsprogs=1.42.12-1ubuntu2 fakeroot=1.20.2-1ubuntu1 file=1:5.20-1ubuntu2 findutils=4.4.2-9build1 flex=2.5.39-8 fontconfig=2.11.1-0ubuntu6 fontconfig-config=2.11.1-0ubuntu6 fonts-dejavu-core=2.34-1ubuntu1 g++=4:4.9.2-2ubuntu2 g++-4.9=4.9.2-10ubuntu13 gawk=1:4.1.1+dfsg-1 gcc=4:4.9.2-2ubuntu2 gcc-4.9=4.9.2-10ubuntu13 gcc-4.9-base:amd64=4.9.2-10ubuntu13 gcc-5-base:amd64=5.1~rc1-0ubuntu1 gdb=7.9-1ubuntu1 git=1:2.1.4-2.1 git-man=1:2.1.4-2.1 gnupg=1.4.18-7ubuntu1 golang=2:1.3.3-1ubuntu4 golang-doc=2:1.3.3-1ubuntu4 golang-go=2:1.3.3-1ubuntu4 golang-go-linux-amd64=2:1.3.3-1ubuntu4 golang-src=2:1.3.3-1ubuntu4 gperf=3.0.4-1 gpgv=1.4.18-7ubuntu1 grep=2.20-4.1 gyp=0.1~svn1729-3ubuntu1 gzip=1.6-4ubuntu1 hostname=3.15ubuntu2 init=1.22ubuntu11 init-system-helpers=1.22ubuntu11 initscripts=2.88dsf-53.2ubuntu12 insserv=1.14.0-5ubuntu3 java-common=0.52 libacl1:amd64=2.2.52-2 libapparmor1:amd64=2.9.1-0ubuntu9 libapt-pkg4.12:amd64=1.0.9.7ubuntu4 libasan1:amd64=4.9.2-10ubuntu13 libasn1-8-heimdal:amd64=1.6~rc2+dfsg-9 libasound2:amd64=1.0.28-1 libasound2-data=1.0.28-1 libasyncns0:amd64=0.8-5build1 libatk-wrapper-java=0.30.5-1 libatk-wrapper-java-jni:amd64=0.30.5-1 libatk1.0-0:amd64=2.14.0-1ubuntu1 libatk1.0-data=2.14.0-1ubuntu1 libatomic1:amd64=4.9.2-10ubuntu13 libattr1:amd64=1:2.4.47-2 libaudit-common=1:2.3.7-1ubuntu2 libaudit1:amd64=1:2.3.7-1ubuntu2 libavahi-client3:amd64=0.6.31-4ubuntu4 libavahi-common-data:amd64=0.6.31-4ubuntu4 libavahi-common3:amd64=0.6.31-4ubuntu4 libbison-dev:amd64=2:3.0.2.dfsg-2 libblkid1:amd64=2.25.2-4ubuntu2 libbsd-dev:amd64=0.7.0-2 libbsd0:amd64=0.7.0-2 libbz2-1.0:amd64=1.0.6-7 libc-ares-dev:amd64=1.10.0-2 libc-ares2:amd64=1.10.0-2 libc-bin=2.21-0ubuntu4 libc-dev-bin=2.21-0ubuntu4 libc6:amd64=2.21-0ubuntu4 libc6-dbg:amd64=2.21-0ubuntu4 libc6-dev:amd64=2.21-0ubuntu4 libcairo2:amd64=1.14.2-1ubuntu1 libcap2:amd64=1:2.24-6 libcap2-bin=1:2.24-6 libcilkrts5:amd64=4.9.2-10ubuntu13 libck-connector0:amd64=0.4.6-5 libcloog-isl4:amd64=0.18.2-3 libcomerr2:amd64=1.42.12-1ubuntu2 libcryptsetup4=2:1.6.1-1ubuntu7 libcups2:amd64=2.0.2-1ubuntu3 libcurl3-gnutls:amd64=7.38.0-3ubuntu2 libdatrie1:amd64=0.2.8-1 libdb5.3:amd64=5.3.28-9 libdbus-1-3:amd64=1.8.12-1ubuntu5 libdebconfclient0:amd64=0.192ubuntu1 libdevmapper1.02.1:amd64=2:1.02.90-2ubuntu1 libdpkg-perl=1.17.25ubuntu1 libdrm-intel1:amd64=2.4.60-2 libdrm-nouveau2:amd64=2.4.60-2 libdrm-radeon1:amd64=2.4.60-2 libdrm2:amd64=2.4.60-2 libedit-dev:amd64=3.1-20140620-2 libedit2:amd64=3.1-20140620-2 libelf1:amd64=0.160-0ubuntu3 liberror-perl=0.17-1.1 libexpat1:amd64=2.1.0-6ubuntu1 libfakeroot:amd64=1.20.2-1ubuntu1 libffi6:amd64=3.2.1-2 libfl-dev:amd64=2.5.39-8 libflac8:amd64=1.3.1-1ubuntu1 libfontconfig1:amd64=2.11.1-0ubuntu6 libfreetype6:amd64=2.5.2-2ubuntu3 libgcc-4.9-dev:amd64=4.9.2-10ubuntu13 libgcc1:amd64=1:5.1~rc1-0ubuntu1 libgcrypt20:amd64=1.6.2-4ubuntu2 libgdbm3:amd64=1.8.3-13.1 libgdk-pixbuf2.0-0:amd64=2.31.3-1 libgdk-pixbuf2.0-common=2.31.3-1 libgif4:amd64=4.1.6-11 libgl1-mesa-dri:amd64=10.5.2-0ubuntu1 libgl1-mesa-glx:amd64=10.5.2-0ubuntu1 libglapi-mesa:amd64=10.5.2-0ubuntu1 libglib2.0-0:amd64=2.44.0-1ubuntu3 libgmp10:amd64=2:6.0.0+dfsg-6ubuntu1 libgnutls-deb0-28:amd64=3.3.8-3ubuntu3 libgomp1:amd64=4.9.2-10ubuntu13 libgpg-error0:amd64=1.17-3ubuntu1 libgraphite2-3:amd64=1.2.4-3ubuntu1 libgssapi-krb5-2:amd64=1.12.1+dfsg-18 libgssapi3-heimdal:amd64=1.6~rc2+dfsg-9 libgtk2.0-0:amd64=2.24.27-0ubuntu1 libgtk2.0-common=2.24.27-0ubuntu1 libharfbuzz0b:amd64=0.9.37-1 libhcrypto4-heimdal:amd64=1.6~rc2+dfsg-9 libheimbase1-heimdal:amd64=1.6~rc2+dfsg-9 libheimntlm0-heimdal:amd64=1.6~rc2+dfsg-9 libhogweed2:amd64=2.7.1-5 libhx509-5-heimdal:amd64=1.6~rc2+dfsg-9 libicu52:amd64=52.1-8 libidn11:amd64=1.28-1ubuntu2 libintl-perl=1.23-1build2 libisl13:amd64=0.14-1 libitm1:amd64=4.9.2-10ubuntu13 libjasper1:amd64=1.900.1-debian1-2.4 libjbig0:amd64=2.1-3.1 libjpeg-turbo8:amd64=1.3.0-0ubuntu2 libjpeg8:amd64=8c-2ubuntu8 libjs-excanvas=0.r3-4 libjs-jquery=1.7.2+dfsg-3ubuntu2 libjs-node-uuid=1.4.0-1 libjs-underscore=1.7.0~dfsg-1ubuntu1 libjson-c2:amd64=0.11-4ubuntu2 libk5crypto3:amd64=1.12.1+dfsg-18 libkeyutils1:amd64=1.5.9-5ubuntu1 libkmod2:amd64=18-3ubuntu1 libkrb5-26-heimdal:amd64=1.6~rc2+dfsg-9 libkrb5-3:amd64=1.12.1+dfsg-18 libkrb5support0:amd64=1.12.1+dfsg-18 liblcms2-2:amd64=2.6-3ubuntu2 libldap-2.4-2:amd64=2.4.31-1+nmu2ubuntu12.3 libllvm3.6:amd64=1:3.6-2ubuntu1 liblsan0:amd64=4.9.2-10ubuntu13 liblua5.2-0:amd64=5.2.3-1.1 liblzma5:amd64=5.1.1alpha+20120614-2ubuntu2 libmagic1:amd64=1:5.20-1ubuntu2 libmono-corlib4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-corlib4.5-cil=3.2.8+dfsg-4ubuntu4 libmono-csharp4.0c-cil=3.2.8+dfsg-4ubuntu4 libmono-data-tds4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-microsoft-csharp4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-posix4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-security4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-system-configuration4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-system-core4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-system-data-datasetextensions4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-system-data-linq4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-system-data4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-system-enterpriseservices4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-system-runtime-serialization4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-system-security4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-system-transactions4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-system-xml-linq4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-system-xml4.0-cil=3.2.8+dfsg-4ubuntu4 libmono-system4.0-cil=3.2.8+dfsg-4ubuntu4 libmount1:amd64=2.25.2-4ubuntu2 libmpc3:amd64=1.0.3-1 libmpfr4:amd64=3.1.2-3 libncurses5:amd64=5.9+20140712-2ubuntu2 libncurses5-dev:amd64=5.9+20140712-2ubuntu2 libncursesw5:amd64=5.9+20140712-2ubuntu2 libnettle4:amd64=2.7.1-5 libnspr4:amd64=2:4.10.7-1ubuntu1 libnss3:amd64=2:3.17.4-0ubuntu1 libnss3-nssdb=2:3.17.4-0ubuntu1 libogg0:amd64=1.3.2-1 libp11-kit0:amd64=0.20.7-1 libpam-modules:amd64=1.1.8-3.1ubuntu3 libpam-modules-bin=1.1.8-3.1ubuntu3 libpam-runtime=1.1.8-3.1ubuntu3 libpam0g:amd64=1.1.8-3.1ubuntu3 libpango-1.0-0:amd64=1.36.8-3 libpangocairo-1.0-0:amd64=1.36.8-3 libpangoft2-1.0-0:amd64=1.36.8-3 libpciaccess0:amd64=0.13.2-3build1 libpcre3:amd64=2:8.35-3.3ubuntu1 libpcre3-dev:amd64=2:8.35-3.3ubuntu1 libpcrecpp0:amd64=2:8.35-3.3ubuntu1 libpcsclite1:amd64=1.8.11-3ubuntu1 libpixman-1-0:amd64=0.32.6-3 libpng12-0:amd64=1.2.51-0ubuntu3 libpopt0:amd64=1.16-10 libprocps3:amd64=1:3.3.9-1ubuntu8 libpulse0:amd64=1:6.0-0ubuntu6 libpython-stdlib:amd64=2.7.9-1 libpython2.7-minimal:amd64=2.7.9-2ubuntu3 libpython2.7-stdlib:amd64=2.7.9-2ubuntu3 libquadmath0:amd64=4.9.2-10ubuntu13 libreadline6:amd64=6.3-8ubuntu1 libroken18-heimdal:amd64=1.6~rc2+dfsg-9 librpm3=4.11.3-1.1 librpmbuild3=4.11.3-1.1 librpmio3=4.11.3-1.1 librpmsign1=4.11.3-1.1 librtmp1:amd64=2.4+20131018.git79459a2-5 libruby2.1:amd64=2.1.2-2ubuntu3 libsasl2-2:amd64=2.1.26.dfsg1-13ubuntu0.1 libsasl2-modules-db:amd64=2.1.26.dfsg1-13ubuntu0.1 libselinux1:amd64=2.3-2 libsemanage-common=2.3-1build1 libsemanage1:amd64=2.3-1build1 libsepol1:amd64=2.3-2 libsigsegv2:amd64=2.10-4 libslang2:amd64=2.3.0-2ubuntu1 libsmartcols1:amd64=2.25.2-4ubuntu2 libsndfile1:amd64=1.0.25-9.1 libsqlite3-0:amd64=3.8.7.4-1 libss2:amd64=1.42.12-1ubuntu2 libssl-dev:amd64=1.0.1f-1ubuntu11 libssl1.0.0:amd64=1.0.1f-1ubuntu11 libstdc++-4.9-dev:amd64=4.9.2-10ubuntu13 libstdc++-4.9-pic:amd64=4.9.2-10ubuntu13 libstdc++6:amd64=4.9.2-10ubuntu13 libsystemd0:amd64=219-7ubuntu3 libtasn1-6:amd64=4.2-2ubuntu1 libtext-unidecode-perl=1.22-1 libthai-data=0.1.21-1 libthai0:amd64=0.1.21-1 libtiff5:amd64=4.0.3-12.3ubuntu2 libtimedate-perl=2.3000-2 libtinfo-dev:amd64=5.9+20140712-2ubuntu2 libtinfo5:amd64=5.9+20140712-2ubuntu2 libtool=2.4.2-1.11 libtool-bin=2.4.2-1.11 libtsan0:amd64=4.9.2-10ubuntu13 libubsan0:amd64=4.9.2-10ubuntu13 libudev1:amd64=219-7ubuntu3 libusb-0.1-4:amd64=2:0.1.12-25 libustr-1.0-1:amd64=1.0.4-3ubuntu2 libuuid1:amd64=2.25.2-4ubuntu2 libv8-3.14-dev=3.14.5.8-5ubuntu2 libv8-3.14.5=3.14.5.8-5ubuntu2 libvorbis0a:amd64=1.3.4-2 libvorbisenc2:amd64=1.3.4-2 libwind0-heimdal:amd64=1.6~rc2+dfsg-9 libwrap0:amd64=7.6.q-25 libx11-6:amd64=2:1.6.2-2ubuntu2 libx11-data=2:1.6.2-2ubuntu2 libx11-xcb1:amd64=2:1.6.2-2ubuntu2 libxau6:amd64=1:1.0.8-1 libxcb-dri2-0:amd64=1.10-2ubuntu1 libxcb-dri3-0:amd64=1.10-2ubuntu1 libxcb-glx0:amd64=1.10-2ubuntu1 libxcb-present0:amd64=1.10-2ubuntu1 libxcb-render0:amd64=1.10-2ubuntu1 libxcb-shm0:amd64=1.10-2ubuntu1 libxcb-sync1:amd64=1.10-2ubuntu1 libxcb1:amd64=1.10-2ubuntu1 libxcomposite1:amd64=1:0.4.4-1 libxcursor1:amd64=1:1.1.14-1 libxdamage1:amd64=1:1.1.4-2 libxdmcp6:amd64=1:1.1.1-1build1 libxext6:amd64=2:1.3.3-1 libxfixes3:amd64=1:5.0.1-2 libxi6:amd64=2:1.7.4-1 libxinerama1:amd64=2:1.1.3-1 libxml-libxml-perl=2.0116+dfsg-1ubuntu0.15.04.1 libxml-namespacesupport-perl=1.11-1 libxml-sax-base-perl=1.07-1 libxml-sax-perl=0.99+dfsg-2ubuntu1 libxml2:amd64=2.9.2+dfsg1-3 libxrandr2:amd64=2:1.4.2-1 libxrender1:amd64=1:0.9.8-1build1 libxshmfence1:amd64=1.1-4 libxtst6:amd64=2:1.2.2-1 libxxf86vm1:amd64=1:1.1.3-1 libyaml-0-2:amd64=0.1.6-3 linux-libc-dev:amd64=3.19.0-15.15 locales=2.13+git20120306-19 login=1:4.1.5.1-1.1ubuntu4 lsb-base=4.1+Debian11ubuntu8 lsof=4.86+dfsg-1ubuntu2 m4=1.4.17-4 make=4.0-8.1 makedev=2.3.1-93ubuntu1 mawk=1.3.3-17ubuntu2 mercurial=3.1.2-2 mercurial-common=3.1.2-2 mime-support=3.58ubuntu1 mono-4.0-gac=3.2.8+dfsg-4ubuntu4 mono-dmcs=3.2.8+dfsg-4ubuntu4 mono-gac=3.2.8+dfsg-4ubuntu4 mono-mcs=3.2.8+dfsg-4ubuntu4 mono-runtime=3.2.8+dfsg-4ubuntu4 mono-runtime-common=3.2.8+dfsg-4ubuntu4 mono-runtime-sgen=3.2.8+dfsg-4ubuntu4 mount=2.25.2-4ubuntu2 multiarch-support=2.21-0ubuntu4 ncurses-base=5.9+20140712-2ubuntu2 ncurses-bin=5.9+20140712-2ubuntu2 node-abbrev=1.0.5-2 node-ansi=0.3.0-2 node-ansi-color-table=1.0.0-1 node-archy=0.0.2-1 node-async=0.8.0-1 node-block-stream=0.0.7-1 node-combined-stream=0.0.5-1 node-cookie-jar=0.3.1-1 node-delayed-stream=0.0.5-1 node-forever-agent=0.5.1-1 node-form-data=0.1.0-1 node-fstream=0.1.24-1 node-fstream-ignore=0.0.6-2 node-github-url-from-git=1.1.1-1 node-glob=4.0.5-1 node-graceful-fs=3.0.2-1 node-gyp=0.12.2+ds-1 node-inherits=2.0.1-1 node-ini=1.1.0-1 node-json-stringify-safe=5.0.0-1 node-lockfile=0.4.1-1 node-lru-cache=2.3.1-1 node-mime=1.2.11-1 node-minimatch=1.0.0-1 node-mkdirp=0.5.0-1 node-mute-stream=0.0.4-1 node-node-uuid=1.4.0-1 node-nopt=3.0.1-1 node-normalize-package-data=0.2.2-1 node-npmlog=0.0.4-1 node-once=1.1.1-1 node-osenv=0.1.0-1 node-qs=2.2.4-1 node-read=1.0.5-1 node-read-package-json=1.2.4-1 node-request=2.26.1-1 node-retry=0.6.0-1 node-rimraf=2.2.8-1 node-semver=2.1.0-2 node-sha=1.2.3-1 node-sigmund=1.0.0-1 node-slide=1.1.4-1 node-tar=0.1.18-1 node-tunnel-agent=0.3.1-1 node-underscore=1.7.0~dfsg-1ubuntu1 node-which=1.0.5-2 nodejs=0.10.25~dfsg2-2ubuntu1 nodejs-dev=0.10.25~dfsg2-2ubuntu1 npm=1.4.21+ds-2 openjdk-8-jdk:amd64=8u45-b14-1 openjdk-8-jre:amd64=8u45-b14-1 openjdk-8-jre-headless:amd64=8u45-b14-1 openssh-client=1:6.7p1-5ubuntu1 openssh-server=1:6.7p1-5ubuntu1 openssh-sftp-server=1:6.7p1-5ubuntu1 openssl=1.0.1f-1ubuntu11 passwd=1:4.1.5.1-1.1ubuntu4 patch=2.7.5-1 perl=5.20.2-2 perl-base=5.20.2-2 perl-modules=5.20.2-2 php-pear=5.6.4+dfsg-4ubuntu6 php5-cli=5.6.4+dfsg-4ubuntu6 php5-common=5.6.4+dfsg-4ubuntu6 php5-dev=5.6.4+dfsg-4ubuntu6 php5-json=1.3.6-1build1 procps=1:3.3.9-1ubuntu8 psmisc=22.21-2build1 python=2.7.9-1 python-chardet=2.3.0-1 python-colorama=0.3.2-1 python-distlib=0.1.9-1 python-gevent=1.0.1-2 python-greenlet=0.4.5-1ubuntu1 python-html5lib=0.999-3 python-minimal=2.7.9-1 python-pip=1.5.6-5ubuntu2 python-pkg-resources=12.2-1 python-requests=2.4.3-6 python-setuptools=12.2-1 python-six=1.9.0-1 python-urllib3=1.9.1-3 python-yaml=3.11-2 python2.7=2.7.9-2ubuntu3 python2.7-minimal=2.7.9-2ubuntu3 readline-common=6.3-8ubuntu1 rpm=4.11.3-1.1 rpm-common=4.11.3-1.1 rpm2cpio=4.11.3-1.1 rsync=3.1.1-3 ruby=1:2.1.0.4ubuntu1 ruby2.1=2.1.2-2ubuntu3 rubygems-integration=1.8 sed=4.2.2-4ubuntu1 sensible-utils=0.0.9 shared-mime-info=1.3-1 shtool=2.0.8-6 ssh=1:6.7p1-5ubuntu1 systemd=219-7ubuntu3 systemd-sysv=219-7ubuntu3 sysv-rc=2.88dsf-53.2ubuntu12 sysvinit-utils=2.88dsf-53.2ubuntu12 tar=1.27.1-2 texinfo=5.2.0.dfsg.1-6 tzdata=2015c-1 tzdata-java=2015c-1 ubuntu-keyring=2012.05.19 ucf=3.0030 udev=219-7ubuntu3 unzip=6.0-13ubuntu3 util-linux=2.25.2-4ubuntu2 valgrind=1:3.10.1-1ubuntu2 wget=1.16.1-1ubuntu1 x11-common=1:7.7+7ubuntu4 xz-utils=5.1.1alpha+20120614-2ubuntu2 zlib1g:amd64=1:1.2.8.dfsg-2ubuntu1 zlib1g-dev:amd64=1:1.2.8.dfsg-2ubuntu1 golang-go.tools=0.0~hg20140703-4 curl=7.38.0-3ubuntu2.3 sphinx-common=1.2.3+dfsg-1ubuntu2 distcc=3.1-6.1 clang=1:3.6-26ubuntu1 && apt-get clean

RUN adduser --disabled-password --gecos '' fdb

RUN chown -R fdb /opt

RUN chmod -R 0777 /opt

USER fdb

RUN cd /opt/ && wget http://downloads.sourceforge.net/project/boost/boost/1.52.0/boost_1_52_0.tar.bz2 -qO - | tar -xj

RUN mkdir -p /home/fdb/.ssh /opt/ct /opt/cross-build /opt/x-toolchain

RUN cd /opt/ && wget http://crosstool-ng.org/download/crosstool-ng/crosstool-ng-1.21.0.tar.bz2 -qO - | tar -xj

RUN cd /opt/crosstool-ng-1.21.0 && ./configure --prefix=/opt/ct && make && make install

RUN mkdir -p /opt/cross-build/samples/x86_64-nptl-linux-gnu/

ADD ct.config.fdb /opt/cross-build/samples/x86_64-nptl-linux-gnu/crosstool.config

RUN touch /opt/cross-build/samples/x86_64-nptl-linux-gnu/reported.by

RUN cd /opt/cross-build && /opt/ct/bin/ct-ng x86_64-nptl-linux-gnu

RUN mkdir -p /opt/cross-build/.tarballs

RUN ((cd /opt/cross-build && /opt/ct/bin/ct-ng build && rm -rf /opt/cross-build /opt/crosstool-ng-1.21.0 /opt/ct) || (cat /opt/cross-build/build.log && false))

RUN cd /opt/ && wget http://ftp.gnu.org/pub/gnu/ncurses/ncurses-5.9.tar.gz -qO - | tar -xz && cd /opt/ncurses-5.9 && ./configure CC=/opt/x-toolchain/bin/x86_64-nptl-linux-gnu-gcc CFLAGS=-fPIC --prefix=/opt/libncurses && make && make install && cd /opt && rm -rf ncurses-5.9

RUN cd /opt/ && wget http://thrysoee.dk/editline/libedit-20150325-3.1.tar.gz -qO - | tar -xz && cd /opt/libedit-20150325-3.1 && ./configure CC=/opt/x-toolchain/bin/x86_64-nptl-linux-gnu-cc CFLAGS=-fPIC LDFLAGS="-L/opt/libncurses/lib" --prefix=/opt/libedit && make && make install && cd /opt && rm -rf libedit-20150325-3.1

RUN ln -s /opt/libncurses/lib/libncurses.a /opt/libncurses/lib/libtinfo.a

USER root

RUN ln -s /opt/x-toolchain/lib/gcc/x86_64-nptl-linux-gnu/4.9.1/../../../../x86_64-nptl-linux-gnu/lib/../lib64/libstdc++.a /opt/x-toolchain/lib/gcc/x86_64-nptl-linux-gnu/4.9.1/../../../../x86_64-nptl-linux-gnu/lib/../lib64/libstdc++_pic.a

RUN pip install boto3==1.1.1

RUN npm install -g npm@3.4.1

RUN ln -s /usr/bin/nodejs /usr/bin/node

RUN LANGUAGE=en_US.UTF-8 LANG=en_US.UTF-8 LC_ALL=en_US.UTF-8 locale-gen en_US.UTF-8

RUN dpkg-reconfigure locales
