<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Versionstamp (FoundationDB Java Client API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.apple.foundationdb.tuple, class: Versionstamp">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":9,"i2":9,"i3":10,"i4":9,"i5":10,"i6":10,"i7":10,"i8":10,"i9":9,"i10":9,"i11":10,"i12":10,"i13":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.apple.foundationdb.tuple</a></div>
<h1 title="Class Versionstamp" class="title">Class Versionstamp</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree"><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a>
<div class="inheritance">com.apple.foundationdb.tuple.Versionstamp</div>
</div>
<section class="description">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Comparable</a>&lt;<a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a>&gt;</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">Versionstamp</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Comparable</a>&lt;<a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a>&gt;</pre>
<div class="block">Used to represent values written by versionstamp operations with a <a href="Tuple.html" title="class in com.apple.foundationdb.tuple"><code>Tuple</code></a>.
  This wraps a single array which should contain twelve bytes. The first ten bytes
  are the "transaction" version, and they are usually assigned by the database
  in such a way that all transactions receive a different version that is consistent
  with a serialization order of the transactions within the database. (One can
  use the <a href="../Transaction.html#getVersionstamp()"><code>Transaction.getVersionstamp()</code></a>
  method to retrieve this version from a <code>Transaction</code>.) This also implies that the
  transaction version of newly committed transactions will be monotonically increasing
  over time. The final two bytes are the "user" version and should be set by the client.
  This allows the user to use this class to impose a total order of items across multiple
  transactions in the database in a consistent and conflict-free way. The user can elect to
  ignore this parameter by instantiating the class with the paramaterless <a href="#incomplete()"><code>incomplete()</code></a>
  and one-parameter <a href="#complete(byte%5B%5D)"><code>complete</code></a> static initializers. If they do so,
  then versions are written with a default (constant) user version.

 <p>
 All <code>Versionstamp</code>s can exist in one of two states: "incomplete" and "complete".
  An "incomplete" <code>Versionstamp</code> is a <code>Versionstamp</code> that has not been
  initialized with a meaningful transaction version. For example, this might be used
  with a <code>Versionstamp</code> that one wants to fill in with the current transaction's
  version information. A "complete" <code>Versionstamp</code>, in contradistinction, is one
  that <i>has</i> been assigned a meaningful transaction version. This is usually the
  case if one is reading back a <code>Versionstamp</code> from the database.
 </p>

 <p>
 Example usage might be to do something like the following:
 </p>

 <pre>
 <code>
  CompletableFuture&lt;byte[]&gt; trVersionFuture = db.run((Transaction tr) -&gt; {
       // The incomplete Versionstamp will be overwritten with tr's version information when committed.
       Tuple t = Tuple.from("prefix", Versionstamp.incomplete());
       tr.mutate(MutationType.SET_VERSIONSTAMPED_KEY, t.packWithVersionstamp(), new byte[0]);
       return tr.getVersionstamp();
   });

   byte[] trVersion = trVersionFuture.get();

   Versionstamp v = db.run((Transaction tr) -&gt; {
       Subspace subspace = new Subspace(Tuple.from("prefix"));
       byte[] serialized = tr.getRange(subspace.range(), 1).iterator().next().getKey();
       Tuple t = subspace.unpack(serialized);
       return t.getVersionstamp(0);
   });

   assert v.equals(Versionstamp.complete(trVersion));
 </code>
 </pre>

 <p>
 Here, an incomplete <code>Versionstamp</code> is packed and written to the database with
  the <a href="../MutationType.html#SET_VERSIONSTAMPED_KEY"><code>SET_VERSIONSTAMPED_KEY</code></a>
  <code>MutationType</code>. After committing, we then attempt to read back the same key that
  we just wrote. Then we verify the invariant that the deserialized <a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple"><code>Versionstamp</code></a> is
  the same as a complete <code>Versionstamp</code> instance created from the first transaction's
  version information.
 </p></div>
</section>
<section class="summary">
<ul class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#LENGTH">LENGTH</a></span></code></th>
<td class="colLast">
<div class="block">Length of a serialized <code>Versionstamp</code> instance when converted into a byte array.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#compareTo(com.apple.foundationdb.tuple.Versionstamp)">compareTo</a></span>&#8203;(<a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a>&nbsp;other)</code></th>
<td class="colLast">
<div class="block">Compares two <code>Versionstamp</code> instances in a manner consistent with their
  key order when serialized in the database as keys.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>static <a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#complete(byte%5B%5D)">complete</a></span>&#8203;(byte[]&nbsp;trVersion)</code></th>
<td class="colLast">
<div class="block">Creates a complete <code>Versionstamp</code> instance with the given
  transaction and default user versions.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>static <a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#complete(byte%5B%5D,int)">complete</a></span>&#8203;(byte[]&nbsp;trVersion,
int&nbsp;userVersion)</code></th>
<td class="colLast">
<div class="block">Creates a complete <code>Versionstamp</code> instance with the given
  transaction and user versions.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#equals(java.lang.Object)">equals</a></span>&#8203;(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;o)</code></th>
<td class="colLast">
<div class="block">Check another object for equality.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>static <a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fromBytes(byte%5B%5D)">fromBytes</a></span>&#8203;(byte[]&nbsp;versionBytes)</code></th>
<td class="colLast">
<div class="block">Creates a <code>Versionstamp</code> instance based on the given byte array
  representation.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBytes()">getBytes</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieve a byte-array representation of this <code>Versionstamp</code>.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTransactionVersion()">getTransactionVersion</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieve the portion of this <code>Versionstamp</code> that is set by
  the database.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUserVersion()">getUserVersion</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieve the portion of this <code>Versionstamp</code> that is set
  by the user.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hashCode()">hashCode</a></span>()</code></th>
<td class="colLast">
<div class="block">Hash code for this <code>Versionstamp</code>.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>static <a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#incomplete()">incomplete</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates an incomplete <code>Versionstamp</code> instance with the default user
  version.</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>static <a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#incomplete(int)">incomplete</a></span>&#8203;(int&nbsp;userVersion)</code></th>
<td class="colLast">
<div class="block">Creates an incomplete <code>Versionstamp</code> instance with the given
  user version.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isComplete()">isComplete</a></span>()</code></th>
<td class="colLast">
<div class="block">Whether this <code>Versionstamp</code>'s transaction version is
  meaningful.</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toString()">toString</a></span>()</code></th>
<td class="colLast">
<div class="block">Generate a human-readable representation of this <code>Versionstamp</code>.</div>
</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unpackUserVersion(byte%5B%5D,int)">unpackUserVersion</a></span>&#8203;(byte[]&nbsp;bytes,
int&nbsp;pos)</code></th>
<td class="colLast">
<div class="block">From a byte array, unpack the user version starting at the given position.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="LENGTH">LENGTH</a></h3>
<div class="memberSignature"><span class="modifiers">public static final</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">LENGTH</span></div>
<div class="block">Length of a serialized <code>Versionstamp</code> instance when converted into a byte array.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.apple.foundationdb.tuple.Versionstamp.LENGTH">Constant Field Values</a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="unpackUserVersion(byte[],int)">unpackUserVersion</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">unpackUserVersion</span>&#8203;(<span class="arguments">byte[]&nbsp;bytes,
int&nbsp;pos)</span></div>
<div class="block">From a byte array, unpack the user version starting at the given position.
  This assumes that the bytes are stored in big-endian order as an unsigned
  short, which is the way the user version is serialized in packed <code>Versionstamp</code>s.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytes</code> - byte array including user version</dd>
<dd><code>pos</code> - starting position of user version</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the unpacked user version included in the array</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="fromBytes(byte[])">fromBytes</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></span>&nbsp;<span class="memberName">fromBytes</span>&#8203;(<span class="arguments">byte[]&nbsp;versionBytes)</span></div>
<div class="block">Creates a <code>Versionstamp</code> instance based on the given byte array
  representation. This follows the same format as that used by
  the main constructor, but the completeness of the <code>Versionstamp</code>
  is instead automatically determined by comparing its transaction version
  with the value used to indicate an unset transaction version.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>versionBytes</code> - byte array representation of <code>Versionstamp</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>equivalent instantiated <code>Versionstamp</code> object</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="incomplete(int)">incomplete</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></span>&nbsp;<span class="memberName">incomplete</span>&#8203;(<span class="arguments">int&nbsp;userVersion)</span></div>
<div class="block">Creates an incomplete <code>Versionstamp</code> instance with the given
  user version. The provided user version must fit within an unsigned
  short. When converted into a byte array, the bytes for the transaction
  version will be filled in with dummy bytes to be later filled
  in at transaction commit time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userVersion</code> - intra-transaction portion of version (set by user code)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an incomplete <code>Versionstamp</code> with the given user version</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="incomplete()">incomplete</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></span>&nbsp;<span class="memberName">incomplete</span>()</div>
<div class="block">Creates an incomplete <code>Versionstamp</code> instance with the default user
  version. When converted into a byte array, the bytes for the transaction
  version will be filled in with dummy bytes to be later filled in at
  transaction commit time. If multiple keys are created using the returned
  <code>Versionstamp</code> within the same transaction, then all of those
  keys will have the same version, but it will provide an ordering between
  different transactions if that is all that is required.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an incomplete <code>Versionstamp</code> with the default user version</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="complete(byte[],int)">complete</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></span>&nbsp;<span class="memberName">complete</span>&#8203;(<span class="arguments">byte[]&nbsp;trVersion,
int&nbsp;userVersion)</span></div>
<div class="block">Creates a complete <code>Versionstamp</code> instance with the given
  transaction and user versions. The provided transaction version must have
  exactly 10 bytes, and the user version must fit within an unsigned
  short.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>trVersion</code> - inter-transaction portion of version (set by the database)</dd>
<dd><code>userVersion</code> - intra-transaction portion of version (set by user code)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a complete <code>Versionstamp</code> assembled from the given parts</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="complete(byte[])">complete</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a></span>&nbsp;<span class="memberName">complete</span>&#8203;(<span class="arguments">byte[]&nbsp;trVersion)</span></div>
<div class="block">Creates a complete <code>Versionstamp</code> instance with the given
  transaction and default user versions. The provided transaction version
  must have exactly 10 bytes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>trVersion</code> - inter-transaction portion of version (set by the database)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a complete <code>Versionstamp</code> assembled from the given transaction
        version and the default user version</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isComplete()">isComplete</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">isComplete</span>()</div>
<div class="block">Whether this <code>Versionstamp</code>'s transaction version is
  meaningful. The database will assign each transaction a different transaction
  version. A <code>Versionstamp</code> is considered to be "complete" if its
  transaction version is one of those database-assigned versions rather than
  just dummy bytes. If one uses this class with our
  <a href="../MutationType.html#SET_VERSIONSTAMPED_KEY"><code>SET_VERSIONSTAMPED_KEY</code></a>
  mutation, then the appropriate bytes will be filled in within the database
  during a successful commit.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the transaction version has been set</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getBytes()">getBytes</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">getBytes</span>()</div>
<div class="block">Retrieve a byte-array representation of this <code>Versionstamp</code>.
  This representation can then be serialized and added to the database.
  If this <code>Versionstamp</code> is not complete, the first 10 bytes (representing the
  transaction version) will not be meaningful and one should probably use with the
  <a href="../MutationType.html#SET_VERSIONSTAMPED_KEY"><code>SET_VERSIONSTAMPED_KEY</code></a>
  mutation.

 <b>Warning:</b> For performance reasons, this method does not create a copy of
  its underlying data array. As a result, it is dangerous to modify the
  return value of this function.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>byte representation of this <code>Versionstamp</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getTransactionVersion()">getTransactionVersion</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">getTransactionVersion</span>()</div>
<div class="block">Retrieve the portion of this <code>Versionstamp</code> that is set by
  the database. These 10 bytes are what provide an ordering between different commits.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>transaction version of this <code>Versionstamp</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getUserVersion()">getUserVersion</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">getUserVersion</span>()</div>
<div class="block">Retrieve the portion of this <code>Versionstamp</code> that is set
  by the user. This integer is what provides an ordering within
  a single commit.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>user version of this <code>Versionstamp</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="toString()">toString</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></span>&nbsp;<span class="memberName">toString</span>()</div>
<div class="block">Generate a human-readable representation of this <code>Versionstamp</code>. It contains
  information as to whether this <code>Versionstamp</code> is incomplete or not, what
  its transaction version is (if the <code>Versionstamp</code> is complete), and what its
  user version is.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a human-readable representation of this <code>Versionstamp</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="compareTo(com.apple.foundationdb.tuple.Versionstamp)">compareTo</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">compareTo</span>&#8203;(<span class="arguments"><a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a>&nbsp;other)</span></div>
<div class="block">Compares two <code>Versionstamp</code> instances in a manner consistent with their
  key order when serialized in the database as keys. The rules for comparison are:

 <ul>
     <li>All complete <code>Versionstamp</code>s sort before incomplete <code>Versionstamp</code>s</li>
     <li>
         Two complete <code>Versionstamp</code>s will sort based on unsigned lexicographic comparison
         of their byte representations.
     </li>
     <li>Two incomplete <code>Versionstamp</code>s will sort based on their user versions.</li>
 </ul></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html?is-external=true#compareTo(T)" title="class or interface in java.lang" class="externalLink">compareTo</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Comparable</a>&lt;<a href="Versionstamp.html" title="class in com.apple.foundationdb.tuple">Versionstamp</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>other</code> - <code>Versionstamp</code> instance to compare against</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>-1 if this <code>Versionstamp</code> is smaller than <code>other</code>, 1 if it is bigger, and
  0 if it is equal</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="equals(java.lang.Object)">equals</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">equals</span>&#8203;(<span class="arguments"><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;o)</span></div>
<div class="block">Check another object for equality. This will return <code>true</code> if and only
  if the <code>o</code> parameter is of type <code>Versionstamp</code> and has
  the same completion status and byte representation.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>o</code> - object to compare for equality</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the passed object is an equivalent <code>Versionstamp</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="hashCode()">hashCode</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">hashCode</span>()</div>
<div class="block">Hash code for this <code>Versionstamp</code>. It is based off of the hash
  code for the underlying data array.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>hash-table compliant hash code for this instance</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
