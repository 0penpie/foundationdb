<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>LocalityUtil (FoundationDB Java Client API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.apple.foundationdb, class: LocalityUtil">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":9,"i1":9,"i2":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.apple.foundationdb</a></div>
<h1 title="Class LocalityUtil" class="title">Class LocalityUtil</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree"><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a>
<div class="inheritance">com.apple.foundationdb.LocalityUtil</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="typeNameLabel">LocalityUtil</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">The FoundationDB API comes with a set of functions for discovering the
 storage locations of keys within your cluster. This information can be useful
 for advanced users who wish to take into account the location of keys in the
 design of applications or processes.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAddressesForKey(com.apple.foundationdb.Transaction,byte%5B%5D)">getAddressesForKey</a></span>&#8203;(<a href="Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>&nbsp;tr,
byte[]&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Returns a list of public network addresses as strings, one for each of
 the storage servers responsible for storing <code>key</code> and its associated
 value.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>static <a href="async/CloseableAsyncIterator.html" title="interface in com.apple.foundationdb.async">CloseableAsyncIterator</a>&lt;byte[]&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBoundaryKeys(com.apple.foundationdb.Database,byte%5B%5D,byte%5B%5D)">getBoundaryKeys</a></span>&#8203;(<a href="Database.html" title="interface in com.apple.foundationdb">Database</a>&nbsp;db,
byte[]&nbsp;begin,
byte[]&nbsp;end)</code></th>
<td class="colLast">
<div class="block">Returns a <code>CloseableAsyncIterator</code> of keys <code>k</code> such that
 <code>begin &lt;= k &lt; end</code> and <code>k</code> is located at the start of a
 contiguous range stored on a single server.<br>
<br>
 This method is not transactional.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>static <a href="async/CloseableAsyncIterator.html" title="interface in com.apple.foundationdb.async">CloseableAsyncIterator</a>&lt;byte[]&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBoundaryKeys(com.apple.foundationdb.Transaction,byte%5B%5D,byte%5B%5D)">getBoundaryKeys</a></span>&#8203;(<a href="Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>&nbsp;tr,
byte[]&nbsp;begin,
byte[]&nbsp;end)</code></th>
<td class="colLast">
<div class="block">Returns a <code>CloseableAsyncIterator</code> of keys <code>k</code> such that
 <code>begin &lt;= k &lt; end</code> and <code>k</code> is located at the start of a
 contiguous range stored on a single server.<br>
<br>
 This method is not transactional.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="getBoundaryKeys(com.apple.foundationdb.Database,byte[],byte[])">getBoundaryKeys</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="async/CloseableAsyncIterator.html" title="interface in com.apple.foundationdb.async">CloseableAsyncIterator</a>&lt;byte[]&gt;</span>&nbsp;<span class="memberName">getBoundaryKeys</span>&#8203;(<span class="arguments"><a href="Database.html" title="interface in com.apple.foundationdb">Database</a>&nbsp;db,
byte[]&nbsp;begin,
byte[]&nbsp;end)</span></div>
<div class="block">Returns a <code>CloseableAsyncIterator</code> of keys <code>k</code> such that
 <code>begin &lt;= k &lt; end</code> and <code>k</code> is located at the start of a
 contiguous range stored on a single server.<br>
<br>
 This method is not transactional. The returned boundaries are an estimate
 and may not represent the exact boundary locations at any database version.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - the database to query</dd>
<dd><code>begin</code> - the inclusive start of the range</dd>
<dd><code>end</code> - the exclusive end of the range</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an sequence of keys denoting the start of single-server ranges</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getBoundaryKeys(com.apple.foundationdb.Transaction,byte[],byte[])">getBoundaryKeys</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="async/CloseableAsyncIterator.html" title="interface in com.apple.foundationdb.async">CloseableAsyncIterator</a>&lt;byte[]&gt;</span>&nbsp;<span class="memberName">getBoundaryKeys</span>&#8203;(<span class="arguments"><a href="Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>&nbsp;tr,
byte[]&nbsp;begin,
byte[]&nbsp;end)</span></div>
<div class="block">Returns a <code>CloseableAsyncIterator</code> of keys <code>k</code> such that
 <code>begin &lt;= k &lt; end</code> and <code>k</code> is located at the start of a
 contiguous range stored on a single server.<br>
<br>
 This method is not transactional. The returned boundaries
 are an estimate and may not represent the exact boundary locations at
 any database version. The passed <code>Transaction</code> is not used
 for reads directly, instead it is used to get access to associated
 <a href="Database.html" title="interface in com.apple.foundationdb"><code>Database</code></a>. As a result, options (such as retry limit) set on the
 passed <code>Transaction</code> will not be applied. If, however, the passed
 <code>Transaction</code> has already gotten a read version there is some
 latency advantage to using this form of the method. Also, if the database
 is unavailable prior to the function call, any timeout set on the
 passed <code>Transaction</code> will still trigger.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tr</code> - the transaction on which to base the query</dd>
<dd><code>begin</code> - the inclusive start of the range</dd>
<dd><code>end</code> - the exclusive end of the range</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an sequence of keys denoting the start of single-server ranges</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getAddressesForKey(com.apple.foundationdb.Transaction,byte[])">getAddressesForKey</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]&gt;</span>&nbsp;<span class="memberName">getAddressesForKey</span>&#8203;(<span class="arguments"><a href="Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>&nbsp;tr,
byte[]&nbsp;key)</span></div>
<div class="block">Returns a list of public network addresses as strings, one for each of
 the storage servers responsible for storing <code>key</code> and its associated
 value.

 If locality information is not available, the returned future will carry a
  <a href="FDBException.html" title="class in com.apple.foundationdb"><code>FDBException</code></a> locality_information_unavailable.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tr</code> - the transaction in which to gather location information</dd>
<dd><code>key</code> - the key for which to gather location information</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of addresses in string form</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
