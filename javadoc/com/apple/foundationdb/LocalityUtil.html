<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>LocalityUtil (FoundationDB Java Client API)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LocalityUtil (FoundationDB Java Client API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/apple/foundationdb/KeyValue.html" title="class in com.apple.foundationdb"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/apple/foundationdb/MutationType.html" title="enum in com.apple.foundationdb"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/apple/foundationdb/LocalityUtil.html" target="_top">Frames</a></li>
<li><a href="LocalityUtil.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.apple.foundationdb</div>
<h2 title="Class LocalityUtil" class="title">Class LocalityUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.apple.foundationdb.LocalityUtil</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">LocalityUtil</span>
extends java.lang.Object</pre>
<div class="block">The FoundationDB API comes with a set of functions for discovering the
 storage locations of keys within your cluster. This information can be useful
 for advanced users who wish to take into account the location of keys in the
 design of applications or processes.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static java.util.concurrent.CompletableFuture&lt;java.lang.String[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/apple/foundationdb/LocalityUtil.html#getAddressesForKey-com.apple.foundationdb.Transaction-byte:A-">getAddressesForKey</a></span>(<a href="../../../com/apple/foundationdb/Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>&nbsp;tr,
                  byte[]&nbsp;key)</code>
<div class="block">Returns a list of public network addresses as strings, one for each of
 the storage servers responsible for storing <code>key</code> and its associated
 value.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/apple/foundationdb/async/CloseableAsyncIterator.html" title="interface in com.apple.foundationdb.async">CloseableAsyncIterator</a>&lt;byte[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/apple/foundationdb/LocalityUtil.html#getBoundaryKeys-com.apple.foundationdb.Database-byte:A-byte:A-">getBoundaryKeys</a></span>(<a href="../../../com/apple/foundationdb/Database.html" title="interface in com.apple.foundationdb">Database</a>&nbsp;db,
               byte[]&nbsp;begin,
               byte[]&nbsp;end)</code>
<div class="block">Returns a <code>CloseableAsyncIterator</code> of keys <code>k</code> such that
 <code>begin &lt;= k &lt; end</code> and <code>k</code> is located at the start of a
 contiguous range stored on a single server.<br>
<br>
 This method is not transactional.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="../../../com/apple/foundationdb/async/CloseableAsyncIterator.html" title="interface in com.apple.foundationdb.async">CloseableAsyncIterator</a>&lt;byte[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/apple/foundationdb/LocalityUtil.html#getBoundaryKeys-com.apple.foundationdb.Transaction-byte:A-byte:A-">getBoundaryKeys</a></span>(<a href="../../../com/apple/foundationdb/Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>&nbsp;tr,
               byte[]&nbsp;begin,
               byte[]&nbsp;end)</code>
<div class="block">Returns a <code>CloseableAsyncIterator</code> of keys <code>k</code> such that
 <code>begin &lt;= k &lt; end</code> and <code>k</code> is located at the start of a
 contiguous range stored on a single server.<br>
<br>
 This method is not transactional.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getBoundaryKeys-com.apple.foundationdb.Database-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBoundaryKeys</h4>
<pre>public static&nbsp;<a href="../../../com/apple/foundationdb/async/CloseableAsyncIterator.html" title="interface in com.apple.foundationdb.async">CloseableAsyncIterator</a>&lt;byte[]&gt;&nbsp;getBoundaryKeys(<a href="../../../com/apple/foundationdb/Database.html" title="interface in com.apple.foundationdb">Database</a>&nbsp;db,
                                                             byte[]&nbsp;begin,
                                                             byte[]&nbsp;end)</pre>
<div class="block">Returns a <code>CloseableAsyncIterator</code> of keys <code>k</code> such that
 <code>begin &lt;= k &lt; end</code> and <code>k</code> is located at the start of a
 contiguous range stored on a single server.<br>
<br>
 This method is not transactional. The returned boundaries are an estimate
 and may not represent the exact boundary locations at any database version.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>db</code> - the database to query</dd>
<dd><code>begin</code> - the inclusive start of the range</dd>
<dd><code>end</code> - the exclusive end of the range</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an sequence of keys denoting the start of single-server ranges</dd>
</dl>
</li>
</ul>
<a name="getBoundaryKeys-com.apple.foundationdb.Transaction-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBoundaryKeys</h4>
<pre>public static&nbsp;<a href="../../../com/apple/foundationdb/async/CloseableAsyncIterator.html" title="interface in com.apple.foundationdb.async">CloseableAsyncIterator</a>&lt;byte[]&gt;&nbsp;getBoundaryKeys(<a href="../../../com/apple/foundationdb/Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>&nbsp;tr,
                                                             byte[]&nbsp;begin,
                                                             byte[]&nbsp;end)</pre>
<div class="block">Returns a <code>CloseableAsyncIterator</code> of keys <code>k</code> such that
 <code>begin &lt;= k &lt; end</code> and <code>k</code> is located at the start of a
 contiguous range stored on a single server.<br>
<br>
 This method is not transactional. The returned boundaries
 are an estimate and may not represent the exact boundary locations at
 any database version. The passed <code>Transaction</code> is not used
 for reads directly, instead it is used to get access to associated
 <a href="../../../com/apple/foundationdb/Database.html" title="interface in com.apple.foundationdb"><code>Database</code></a>. As a result, options (such as retry limit) set on the
 passed <code>Transaction</code> will not be applied. If, however, the passed
 <code>Transaction</code> has already gotten a read version there is some
 latency advantage to using this form of the method. Also, if the database
 is unavailable prior to the function call, any timeout set on the
 passed <code>Transaction</code> will still trigger.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tr</code> - the transaction on which to base the query</dd>
<dd><code>begin</code> - the inclusive start of the range</dd>
<dd><code>end</code> - the exclusive end of the range</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an sequence of keys denoting the start of single-server ranges</dd>
</dl>
</li>
</ul>
<a name="getAddressesForKey-com.apple.foundationdb.Transaction-byte:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getAddressesForKey</h4>
<pre>public static&nbsp;java.util.concurrent.CompletableFuture&lt;java.lang.String[]&gt;&nbsp;getAddressesForKey(<a href="../../../com/apple/foundationdb/Transaction.html" title="interface in com.apple.foundationdb">Transaction</a>&nbsp;tr,
                                                                                            byte[]&nbsp;key)</pre>
<div class="block">Returns a list of public network addresses as strings, one for each of
 the storage servers responsible for storing <code>key</code> and its associated
 value.

 If locality information is not available, the returned future will carry a
  <a href="../../../com/apple/foundationdb/FDBException.html" title="class in com.apple.foundationdb"><code>FDBException</code></a> locality_information_unavailable.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tr</code> - the transaction in which to gather location information</dd>
<dd><code>key</code> - the key for which to gather location information</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of addresses in string form</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/apple/foundationdb/KeyValue.html" title="class in com.apple.foundationdb"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/apple/foundationdb/MutationType.html" title="enum in com.apple.foundationdb"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/apple/foundationdb/LocalityUtil.html" target="_top">Frames</a></li>
<li><a href="LocalityUtil.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
